<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <title>BitLife | Penguin Labs</title>
    <style>
      body, html {
        margin: 0; padding: 0; width: 100%; height: 100%;
        background: #000;
        overflow: hidden;
        /* Flex ensures the game is centered without using 'transform' */
        display: flex; justify-content: center; align-items: center;
      }

      /* 1. We create a container that keeps the 9:16 shape naturally */
      #game-area {
        position: relative;
        height: 100vh;
        width: calc(100vh * 9 / 16);
        max-width: 100vw;
        background: #000;
      }

      /* 2. Unity attaches here. We force it to fill the box 100% */
      #gameContainer {
        width: 100% !important;
        height: 100% !important;
      }

      /* 3. This ensures the mouse 'hits' the right spot */
      canvas {
        width: 100% !important;
        height: 100% !important;
        display: block;
        pointer-events: auto !important;
        cursor: pointer !important;
      }
    </style>
  </head>
  <body>

    <div id="game-area">
      <div id="gameContainer"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/gh/bitlife-life-simulator/bitlife-life-simulator.github.io/Build/UnityLoader.js"></script>
    <script>
      var gameInstance = UnityLoader.instantiate(
        "gameContainer", 
        "https://cdn.jsdelivr.net/gh/bitlife-life-simulator/bitlife-life-simulator.github.io/Build/BitLife.json",
        {
          onProgress: function(instance, progress) {
            if (progress === 1) {
              // Trigger a resize so Unity maps the mouse clicks correctly
              setTimeout(() => {
                window.dispatchEvent(new Event('resize'));
              }, 500);
            }
          }
        }
      );

      // Force click focus: clicking the page ensures Unity 'grabs' your mouse
      window.addEventListener('mousedown', function() {
          window.focus();
      });
    </script>
  </body>
</html>